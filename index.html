
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />

        <link href="https://fonts.googleapis.com/css?family=Lobster" rel="stylesheet" />
        <link
            rel="stylesheet"
            href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
            integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
            crossorigin="anonymous"
        />
        <link rel="stylesheet" href="css/styles.css" />
        <link rel="stylesheet" href="css/glightbox.css" />
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />

    </head>

    <body>

        <section id="gallery" class="section">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <h3>
                            Noah & Meagan // October 5th, 2024
                        </h3>

                        <ul id="image-list" class="box-container three-cols"></ul>
                        <script>
                            const params = new URLSearchParams(window.location.search);
                            const set = params.get("set") || "ceremony";
                            // Pull base image url from secret
                            fetch('config/env.json')
                              .then(res => {
                                if (!res.ok) {
                                  throw new Error(`Failed to load config: ${res.status}`);
                                }
                                return res.json();
                              })

                              // Get correct set of images from URL param (i.e. ?set=ceremony)
                              .then(config => {
                                const baseUrl = __IMAGE_BASE_URL__;
                                return fetch(`${baseUrl}/${set}.json`);
                              })

                              // Pull the correct list of image urls
                              .then(res => {
                                if (!res.ok) {
                                  throw new Error(`Failed to load image JSON: ${res.status}`);
                                }
                                return res.json();
                              })
                          
                              // Build gallery
                              .then(imageUrls => {
                                window.imageUrls = imageUrls;
                          
                                const main = document.createElement("script");
                                main.src = "js/image_list.js";
                                document.body.appendChild(main);
                              })
                              .catch(err => {
                                console.error("Error loading data:", err);
                              });
                          </script>
                    </div>
                </div>
            </div>
        </section>


        <footer class="text-center">
            <div class="wrap copyright">
                made with â™¡ by
                <a href="https://github.com/noahlibby17" target="_blank">Noah Libby</a>
                | photos by
                <a href="https://www.meganraifreeman.com/" target="_blank">Megan Rae Freeman</a>
            </div>
        </footer>
        <script src="https://cdn.jsdelivr.net/npm/animejs@3.1.0/lib/anime.min.js"></script>
        <script src="js/valde.min.js"></script>
        <script src="js/glightbox.js"></script>
        <script src="js/site.js"></script>
        <script>
            var lightbox = GLightbox();
            lightbox.on('open', (target) => {
                console.log('lightbox opened');
            });
            var lightboxDescription = GLightbox({
                selector: '.glightbox2'
            });
            var lightboxInlineIframe = GLightbox({
                selector: '.glightbox4'
            });

        </script>
    </body>
</html>
